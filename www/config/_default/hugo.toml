baseURL = "https://example.com/"
languageCode = "en-us"
title = "Hedgerules"

[module]
  replacements = "github.com/mrled/hedgerules/hugo-theme-hedgerules -> ../../hugo-theme-hedgerules"
  [module.hugoVersion]
    min = "0.151.0"
  [[module.imports]]
    path = "github.com/alex-shpak/hugo-book"
  [[module.imports]]
    path = "github.com/mrled/hedgerules/hugo-theme-hedgerules"

# Enable Hedgerules output formats on the home page.
# The theme defines the formats; this tells Hugo to generate them.
[outputs]
  home = ["HTML", "hedgeheaders", "hedgeredirects"]

[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true

[menu]
  [[menu.before]]
    name = "GitHub"
    url = "https://github.com/mrled/hedgerules"
    weight = 20

[params]
  description = "Hugo Edge Rules for CloudFront"
  BookSection = "docs"
  BookToC = true

  # Global headers applied to all paths via the root "/" pattern.
  # These are merged into _hedge_headers.json at build time.
  # Per-page headers (from frontmatter) override these for specific pages.
  [params.HedgerulesPathHeaders]
    [params.HedgerulesPathHeaders."/"]
      X-Content-Type-Options = "nosniff"
      X-Frame-Options = "DENY"
      Referrer-Policy = "strict-origin-when-cross-origin"

# Hugo deploy target for S3
# Run: hugo deploy --target mysite
[deployment]
  [[deployment.targets]]
    name = "hedgerules-micahrl-com-s3"
    URL = "s3://hedgerules-micahrl-com?region=us-east-1"
    cloudFrontDistributionID = "ET01CEXG1S3P9"
    invalidateCDN = true
    maxDeletes = -1
