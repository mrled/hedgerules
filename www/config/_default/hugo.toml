baseURL = "https://example.com/"
languageCode = "en-us"
title = "Hedgerules"
[module]
  replacements = "github.com/mrled/hedgerules/hugo-theme-hedgerules -> ../../hugo-theme-hedgerules"
  [module.hugoVersion]
    min = "0.128.0"
  [[module.imports]]
    path = "github.com/alex-shpak/hugo-book"
  [[module.imports]]
    path = "github.com/mrled/hedgerules/hugo-theme-hedgerules"

# Enable Hedgerules output formats on the home page.
# The theme defines the formats; this tells Hugo to generate them.
[outputs]
  home = ["HTML", "hedgeheaders", "hedgeredirects"]

[params]
  description = "Hugo Edge Rules for CloudFront"
  BookSection = "docs"
  BookToC = true

  # Global headers applied to all paths via the root "/" pattern.
  # These are merged into _hedge_headers.json at build time.
  # Per-page headers (from frontmatter) override these for specific pages.
  [params.HedgerulesPathHeaders]
    [params.HedgerulesPathHeaders."/"]
      X-Content-Type-Options = "nosniff"
      X-Frame-Options = "DENY"
      Referrer-Policy = "strict-origin-when-cross-origin"

# Hugo deploy target for S3
# Run: hugo deploy --target mysite
[deployment]
  [[deployment.targets]]
    name = "mysite"
    URL = "s3://my-hugo-site-bucket?region=us-east-1"
    cloudFrontDistributionID = "MY-ID-HERE"
    invalidateCDN = true
    maxDeletes = -1
